---

##########################################################
# Global
traefik_enable: true

##########################################################
# proxy/client

# docker
docker_configure_proxy: true
docker_proxy_http: "http://{{ groups['manager'][0] }}:8888"
docker_proxy_https: "http://{{ groups['manager'][0] }}:8888"

# apt
proxy_proxies:
  http: "http://{{ groups['manager'][0] }}:8888"
  https: "http://{{ groups['manager'][0] }}:8888"

# Needed by the Kubernetes Play
proxy_env:
  HTTP_PROXY: "http://{{ groups['manager'][0] }}:8888"
  HTTPS_PROXY: "http://{{ groups['manager'][0] }}:8888"
  NO_PROXY: "*.zone1.landscape.scs.community,*.landscape.landscape.scs.community,10.10.21.0/24"

##########################################################
# proxy/server

squid_configuration_directory: /opt/squid/configuration
squid_docker_compose_directory: /opt/squid

squid_host: 10.10.21.10
#squid_tag: 5.7-23.04_beta  # don't get fooled by "beta". this is actually production ready
squid_tag: edge


##########################
# system settings

motd_show_ssh: true
network_interface: dummy0

#osism_setup_gather_subset:
# - "!network-switches"
# - "!dhcp-static-nodes"

management_domain: mgmt.landscape.scs.community
management_gw: 10.10.23.254

##########################
# dnscrypt

# DNS Crypt acts as a DNS proxy, but is currently not really needed.
# It was a experiment.
# TODO: decide if we remove or keep it
dnscrypt_cloaks:
  - "api-internal.zone1.landscape.scs.community      10.10.21.200"
  - "api.zone1.landscape.scs.community          10.10.21.201"

############################
# kubernetes - K3s configuration
apiserver_endpoint: "10.10.21.202"
metal_lb_ip_range: "10.10.21.220-10.10.21.239"

#metal_lb_type: "frr"
#metal_lb_mode: "bgp"

##########################
# docker

docker_user: "{{ operator_user }}"

##########################
# operator

operator_user: dragon
operator_groups: [ "dragon", "adm", "sudo", "docker", "dialout" ]
user_sudoers_type: "user"

# Do not add users here, because they are deleted enirely
# please add state=absent to the users to be deleted in user_list to
# have proper numeric uid management and to not delete relevant files
# If you really want to delete a user add remove=true and force=true to the user.
user_delete:
  - "osism"

user_list:
    # The user gets a password because this is sometimes useful on the bmc console
    # for debugging in exceptional problem situations where "dragon" is not usable.
    # (i.e. extremly high load, sudo configuration and file system status of /home)
    # The system will not provide root login by ssh.
  - name: "root"
    password: "{{ operator_password_root }}"
    key: ""
  - name: "scoopex"
    key: "github"
    primary_group: dragon
    uid: 45001
    groups:
      - docker
      - dialout
  - name: "garloff"
    key: "github"
    primary_group: dragon
    uid: 45002
    groups:
      - docker
      - dialout
  - name: "berendt"
    key: "github"
    primary_group: dragon
    uid: 45003
    groups:
      - docker
      - dialout
  - name: "ignatov17"
    key: "github"
    primary_group: dragon
    uid: 45004
    #state: absent
    groups:
      - docker
      - dialout
  - name: "akafazov"
    key: "github"
    primary_group: dragon
    uid: 45005
    #state: absent
    groups:
      - docker
      - dialout
  - name: "fkr"
    key: "github"
    primary_group: dragon
    uid: 45006
    groups:
      - docker
      - dialout
  - name: "fdobrovolny"
    key: "github"
    primary_group: dragon
    uid: 45007
    groups:
      - docker
      - dialout
  - name: "osfrickler"
    key: "github"
    primary_group: dragon
    uid: 45008
    groups:
      - docker
      - dialout
  - name: "zuse-z3"
    key: "github"
    primary_group: dragon
    uid: 45009
    groups:
      - docker
      - dialout
  - name: "matofeder"
    key: "github"
    primary_group: dragon
    uid: 45010
    groups:
      - docker
      - dialout
  - name: "MatusJenca2"
    key: "github"
    primary_group: dragon
    uid: 45011
    groups:
      - docker
      - dialout
  - name: "gtema"
    key: "github"
    primary_group: dragon
    uid: 45012
    groups:
      - docker
      - dialout
  - name: "bitkeks"
    key: "github"
    primary_group: dragon
    uid: 45013
    groups:
      - docker
      - dialout
  - name: "jschoone"
    key: "github"
    primary_group: dragon
    uid: 45014
    groups:
      - docker
      - dialout


# yamllint disable rule:line-length
operator_public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC2wE2xiuO+i3qmDvu8kCCKX7U7H1diOICbWmR2UrKIxqWgcfWMQsT3WclotJKuVJuKIWyFD6ZNwwLuvC3RxVSqhCiWjqxg3jzJBj7/C1O3IYyLGTUl/x7Cky530lf/aj4wrwt3Ketk/4QNwgget2nCvOy0S2NDCJ3rL6oIUjdJekvRrFf9IbWeX8fqYYCoh1cYJWto1XYPnhMDAB/lqtjN1ssurLSKoJg/bUT7q/KkIvvA/BOR2NMqS0aGx+bKhdkeB22V/t75Ct8ymoCYk9+MTC9i/QX20Fi7835/W7Gl18J8NiO9ebaWyYbsxZ5klWXQa5EiLLBDZ82OR88G+0FjXp1Z3VG6FcpdYpW7sxrT21HEvWOnQACZCdlzwyBJ31id/LjDRhJU6BmZm0Sa9EOJNL8XVOUUzuoa0XL1mIVTsmLpUwqLSfw6Ditb+q4afFi0iYMe3JKOt+JmftvBgeQCjNUsCzk+Ny2j6dZKv2aeF5LOQZGRM3HzG39Gkir3q1zdWmCl4lc3QQBfr5ZcdAp+wQMFSgJAudKffO9kdDVNoyjgih7rD3E+JjJdhY9//WQEEBm2vfEqm7qqEQUAELd0JBCivJmOhUVH0rGbTrnkTBtLR4Au40W5aYaNQJ7+U3hTRrvpycSC1pUU3Wq3OXJd2FRDgKQJljQcpBw4V9j8GQ==
# yamllint enable rule:line-length

# Todo: add lookup to created users instead of repeating
operator_authorized_keys_minimal: 2
operator_authorized_keys:
  - "{{ operator_public_key }}"
  - "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCg4wI3FupkrmzAkQfRkqkS5CQUp3NiIf3jkFk+E7ax/hdgbaW/UjBl9j15BMv/Mmguk11OtHTDgg57VrsL+mPtortKe2DvoVQZxvtnuDhZPFXlNZWJxYkcUUoPy7OwlDjTvfX9QS27rX8Kmz+wKRWz2VSZU3IqTDho+0NX8r3Zrbtkq75nB4Fq99WOzbhdve78GmTABgQvbT5Ypm7bc77cftARWJiyprHocUizui6CdITTPpxUf98HaFo5ZP3YhnZsMlSDu2T2ofiHKXhW+Q7FHP9GiiaH173zLxXFV6LpJ/wDyI8wT3jqPE+FKXyPXKVCDohmbQHOzY5eiePSqhsRbd19wGmkqqqTtKjL9/yUPQ8Lkft0iQPvmepzrB3qL9dLBthKrLNqDAeEv3Eg9MsTTaRyVuQRDizCeySXNMgv+CoeT6PyQstKV68SwUhsCAyIok8y6hFdHSVve66De31fYvkHtMu9C/R5NuhxMuZazazKlpDN9eeBmvT4Pqc5lrc="
  - "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDTMjccqOa268YWdqAhP9awmMtjey/MK92gl+IwpQbxxsEW/HM/EKPGQnF0+7lD6G1W2IqJnFTM5fgWjAmIfzGeR3ySjJDlaQtZdiMHk5YR7VrgRot0odlGZpkkkJnK88xDVYqkq3xmJx39DTF8sKxfWThc1eu5c7Ws7hIvDCvFu4I5w+iPB4R2eycw//A1q3hutagyghJAXad46PgBmu1kODwQG3+sPqNyb4ruh0ODDbSlBZ1XIW4TgaYce5tR8ABlVvASafhZOw3CNK9rThhU4IG3IHvqCsGax269WrIGvSWIkI4EKjvFAEyshOcBsGwjaxm9GxrJLBLpyMVds/Rn3vu4JmupJJFHnWtEyQY6pd77TKyatRcZFjDXrGTPtiHCaMLG49RXvoeHIebjPB3bHqVWJSK5c81oSQwPZTxze5jY2LQOHmpBQ6D2l+5lkzgTQiF3EL7gD6m5Wweht++gQHJ+PnsCkaMZzoT1VdIGrzMO6Tf4O1WTQGkuD/9YtaM="
  - "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIACLmNpHitBkZGVbWAFxZjUATNvLjSktAKwokFIQ9Z1k"

##########################
# hosts

hosts_type: template
hosts_additional_entries:
  api-internal.zone1.landscape.scs.community: 10.10.21.200
  api.zone1.landscape.scs.community: 10.10.21.201

##########################
# ceph

ceph_cluster_fsid: 44bc2d19-fd83-4b92-a6c4-eed358e35672
# BEGIN: TLS
certificates_ca:
  - name: custom.crt
    certificate: Requirement already satisfied: Jinja2==3.1.4 in ./venv/lib/python3.10/site-packages (from -r requirements.txt (line 1)) (3.1.4)
Requirement already satisfied: PyYAML==6.0.1 in ./venv/lib/python3.10/site-packages (from -r requirements.txt (line 2)) (6.0.1)
Requirement already satisfied: ansible==9.6.0 in ./venv/lib/python3.10/site-packages (from -r requirements.txt (line 3)) (9.6.0)
Requirement already satisfied: packaging==24.0 in ./venv/lib/python3.10/site-packages (from -r requirements.txt (line 4)) (24.0)
Requirement already satisfied: pwgen==0.8.2.post0 in ./venv/lib/python3.10/site-packages (from -r requirements.txt (line 5)) (0.8.2.post0)
Requirement already satisfied: python-gilt==1.2.3 in ./venv/lib/python3.10/site-packages (from -r requirements.txt (line 6)) (1.2.3)
Requirement already satisfied: requests==2.32.2 in ./venv/lib/python3.10/site-packages (from -r requirements.txt (line 7)) (2.32.2)
Requirement already satisfied: tabulate==0.9.0 in ./venv/lib/python3.10/site-packages (from -r requirements.txt (line 8)) (0.9.0)
Requirement already satisfied: MarkupSafe>=2.0 in ./venv/lib/python3.10/site-packages (from Jinja2==3.1.4->-r requirements.txt (line 1)) (2.1.5)
Requirement already satisfied: ansible-core~=2.16.7 in ./venv/lib/python3.10/site-packages (from ansible==9.6.0->-r requirements.txt (line 3)) (2.16.8)
Requirement already satisfied: colorama in ./venv/lib/python3.10/site-packages (from python-gilt==1.2.3->-r requirements.txt (line 6)) (0.4.6)
Requirement already satisfied: click in ./venv/lib/python3.10/site-packages (from python-gilt==1.2.3->-r requirements.txt (line 6)) (8.1.7)
Requirement already satisfied: fasteners in ./venv/lib/python3.10/site-packages (from python-gilt==1.2.3->-r requirements.txt (line 6)) (0.19)
Requirement already satisfied: sh in ./venv/lib/python3.10/site-packages (from python-gilt==1.2.3->-r requirements.txt (line 6)) (2.0.7)
Requirement already satisfied: charset-normalizer<4,>=2 in ./venv/lib/python3.10/site-packages (from requests==2.32.2->-r requirements.txt (line 7)) (3.3.2)
Requirement already satisfied: certifi>=2017.4.17 in ./venv/lib/python3.10/site-packages (from requests==2.32.2->-r requirements.txt (line 7)) (2024.7.4)
Requirement already satisfied: urllib3<3,>=1.21.1 in ./venv/lib/python3.10/site-packages (from requests==2.32.2->-r requirements.txt (line 7)) (2.2.2)
Requirement already satisfied: idna<4,>=2.5 in ./venv/lib/python3.10/site-packages (from requests==2.32.2->-r requirements.txt (line 7)) (3.7)
Requirement already satisfied: resolvelib<1.1.0,>=0.5.3 in ./venv/lib/python3.10/site-packages (from ansible-core~=2.16.7->ansible==9.6.0->-r requirements.txt (line 3)) (1.0.1)
Requirement already satisfied: cryptography in ./venv/lib/python3.10/site-packages (from ansible-core~=2.16.7->ansible==9.6.0->-r requirements.txt (line 3)) (42.0.8)
Requirement already satisfied: cffi>=1.12 in ./venv/lib/python3.10/site-packages (from cryptography->ansible-core~=2.16.7->ansible==9.6.0->-r requirements.txt (line 3)) (1.16.0)
Requirement already satisfied: pycparser in ./venv/lib/python3.10/site-packages (from cffi>=1.12->cryptography->ansible-core~=2.16.7->ansible==9.6.0->-r requirements.txt (line 3)) (2.22)
touch venv/bin/activate
!vault |
          $ANSIBLE_VAULT;1.1;AES256
          31343536316531333235363235613464653532656466623438626166343338613962323230643963
          6161643436656534633832613330336132666131393364620a306564353666613436393862346130
          30313835623738306631393064303832393235616362393330323765663933333064373061316632
          6635346161306336360a646533623033653137616333366266313431376330356631366231663438
          34633565396461373638633564633937383330616132643633323530343934343331636135326530
          31333439356236373736326563633637616166316336303261316434333564663264643134366661
          34303565613732346333653531656539383865656562616436663234663832366135353532633162
          65336462623233383263623162623266326236343932303439663833343163343531373165663635
          62333734653630323765366561373534353238633865656261366563646438626639396238623633
          64383661383534613563306237336563326165306536313735316438346462376334333662613166
          32353366656236303339323933613734616332313737376566323764363065373561623434653363
          31633539336566353333653838656537333439346263616532663561613862376663636133343231
          38613432623462376134376531336437623239323965363335616163613962326538343736353535
          65326463396466613534383033323831653031666135626131303133333565666331656133633863
          63663239373738636662623464346639636531316366656562343332383934323665616366363432
          33636132353463323430623838636562333839323163326338643631613133666664643630393938
          38333339323965656361353130346166313536623966613530336165623561646162356239663237
          37323264333464663666383966376264346336633933633935666130323762366230376262623266
          66393533303536386566316637363531346333356362323438363835633531653765353231313935
          31616133633435393738333261666632313431363062366230313735393336656633313230636563
          37303338376439313363363061623434313437343762396661363339613463626139343961303965
          32306635336335663438383739323765343762633563373832353065376162393432316235623030
          32656362653637386332366634323331363235333031323838333031323635356630633833623562
          64323263303239383938346134613336343238333734316430373666336533373133303834343363
          31643634376331366334626633303930633538656363383862343564326336333235373938343435
          38643762623837323261383230613262306461623165393034363766326638616362373332303563
          37366263613761343237646362356633663732656461323639663038386236316165303734376161
          32626565363065343263373536663239653663306463363533366262646330323566613164636566
          38656663663239616533633436303062653533373939333036306265626265613564633030313934
          66626565646439643439383331306437313237333032393062333637303438643134373636643564
          36613262643539323133363266663035343239306264646464613038376666343538313430656562
          30356439353039396239306330633264373632326666373861633932653630623431393863346162
          66313238326432383865323936366533386463373538373736373866643963613935643966323939
          32383439663435636164623637613630306633343939386539306562646564333662616134653966
          33326363633436313966396666396362313232633836333232653662666666646165383463383233
          32356264616637653165386365616430393266656439613065323865393737366138313464356636
          62636664656532646364636133626332363739373164633463316137366163313761363538313162
          66313634353263383030643033343733366235623836336565353936633937383362626134306133
          35633863383039616330613932333363306335376561636262323562613034343538356335353239
          66323234313334613535306337376336393462376136343039353331316239636434323766336661
          66616462313064356634313865333638353364303839373139303531663738383866366536366661
          39633261303631656232666165303233633737343038643632666635646537343162323165346134
          31373166613262373931353632616231333135656530653633643334643837666165346462373232
          66316433336662626266386136663834333465356638306332386163353631653031383731376363
          39313736336534383937366537306430613330663165363036303131383166633133376231363730
          34326337313231373364383331613730633331373263333438363039316639386264333237333036
          63393962656164336234353864656464363365393030393835313862303032376538346631663864
          38363239383433656133306233333638323666373961623165303434386663396431356563623938
          31383965343065636632666633336232373865643532613039306663643462393035343735303961
          61313833333538626234326233326238306161366139373731633163336661356661376562323761
          34623161616132376235303039363863316363313361633065383964316532336232656532343433
          32393162383038333866373464363436333066376563393230623432663636383633626238656536
          66333766326232366464343865633630393662373230666263666131303361633936376363623830
          33313434613462616365396261616138376233613639386637393535643031363339646233373131
          39376633326661653666376438393939646331326436636430643838366563623462303762343839
          38323536353036376334363935373437383464616163316437373030623033366265613031366330
          36666464616530316466353837623834353934313135346466313863393534366464643937386433
          30383261376434633431366336613866353039393463336638393131316530373534633533306435
          65636362363564653961353630356133333064343236666639343938313439643133303936383564
          66373463326466636238653839663938386264353037353532393338353333373833393262613733
          63363362333035393134356533386634386263363132373862636563353761313961383561393664
          63366665313664633738653631393634346331613132653035623431646235353134633538643965
          39353732323831326538663637353962303831653430633837623366653134626533316238353331
          61623036306663666131313737353365353163636230373535346262646265313532633464653365
          65336461626462316533306533616561636436653633376135356634626334306132313136346133
          30643639633737383034323833303138323861343834616534663338336133376264336536326466
          38653934383033656164393734643036313966663966363161663463316133303634656466343431
          36353732623538653966646436613932323239363831626334653736393635323235303263393464
          33353031653136393134653439393935343833343062393137656161613833336132653335363664
          39303136336631663662653135326665386266623335373438333530663533333231396439303330
          66313935643339343937363331343763393665626132323138633032396231383265616631373937
          38326562636332323762643962393965616335666565313232656438646536323536666163613662
          64303737663633393962663833623431643966646232303561313737653162346635643430363838
          65333739336237343134393035346438353862336133343265346561643530626531323134303664
          66343135336634643730383131366233333239623333356436396262386233326163616333643731
          61326331656437373435393638646564396465636661663463613135346463336463646263666362
          35626564333466306164313734666563343862626566633435633564306439393861623465353665
          31373737616261633832383866303730303332323663323439373533383435316139313638323531
          30363030316333383238326633626635623734636538333539336137326563643864303132363365
          38373237656131333137376335653661303637343335633762623930613763353362313736326635
          30623863393732343536663836313231333633366562336530393937343366323533633165623533
          39336233643064326130353131653837386430393930633538353930376436643632643834353235
          35346161633664646533363230333231336338343931346464626337653632643165316332316230
          65623733313466646135646461376635313736646165393833343634623261653263666565633631
          34353330663261386337656139306663343932646661356338616265353165633538333733323861
          30303363353436376631326561373539656631303630343532616566646361373063326239623565
          34366166373233393031653363366334386161326139626163326464303766336333383461323433
          36383631333838643639393939303735303862393863323637636434353139383231363432636662
          37303536376361613063363965373738386232633665373733656561613038376366383165316136
          38623563643363393134643530643965633435336137386266656339666135336633363538393963
          31643237303738633536646633656339306133383436653633663964653862376162653766303230
          37626466383035383531386636316432303735356233353239643630303031333362383762663533
          31306432663032363439346363646135343830303435383431366237643739373338663731653863
          62313865633633613261653063383236316465383630376232636237613661346131663362393835
          34663839303239313661316663616632343764343163313630316661343534666661306138353538
          64663763623830666636633430396131646163613664376263383637313831366233306465356338
          33613235376234363863363837393138323031346265663366646135316539343834666437393463
          34303633653831363363326464343730666236396534333964383164633566326364633338326164
          66353833343161383732323632646462333761343337383733656639623762333763346636663032
          31373765393932323838663838623234373634626539303664646533346439366331353663633661
          35336438376265376165333165383761363238663033376363376334353062373161373466623066
          65636439613234643864353739626265333233306133346663353030613163313537623439393933
          62323563316232333762613933353530663330616133613530336530643335633137613131363666
          61633737343135633731
# END: TLS
